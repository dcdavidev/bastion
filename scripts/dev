#!/bin/bash

# scripts/dev
# Starts the development environment using Turborepo

cleanup() {
    echo ""
    echo "Stopping development services..."
    docker compose stop db
    exit
}

trap cleanup SIGINT SIGTERM

echo "Starting Bastion development environment with Turbo..."

# 1. Start Database
echo "Starting PostgreSQL..."
docker compose up -d db

# 2. Run everything with Turbo
pnpm turbo dev
