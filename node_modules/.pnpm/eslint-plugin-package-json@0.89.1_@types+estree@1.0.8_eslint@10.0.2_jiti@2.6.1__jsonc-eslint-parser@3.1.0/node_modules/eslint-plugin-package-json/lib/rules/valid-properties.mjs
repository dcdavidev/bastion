import { createSimpleValidPropertyRule } from "../utils/createSimpleValidPropertyRule.mjs";
import { validateAuthor, validateBin, validateBundleDependencies, validateConfig, validateContributors, validateCpu, validateDependencies, validateDescription, validateDirectories, validateEngines, validateExports, validateFiles, validateHomepage, validateKeywords, validateLicense, validateMain, validateMan, validateOs, validatePrivate, validatePublishConfig, validateRepository, validateScripts, validateSideEffects, validateType, validateWorkspaces } from "package-json-validator";

//#region src/rules/valid-properties.ts
const properties = [
	["author", validateAuthor],
	["bin", validateBin],
	["bundleDependencies", {
		aliases: ["bundledDependencies"],
		validator: validateBundleDependencies
	}],
	["config", validateConfig],
	["contributors", validateContributors],
	["cpu", validateCpu],
	["description", validateDescription],
	["dependencies", validateDependencies],
	["devDependencies", validateDependencies],
	["directories", validateDirectories],
	["engines", validateEngines],
	["exports", validateExports],
	["files", validateFiles],
	["homepage", validateHomepage],
	["keywords", validateKeywords],
	["license", validateLicense],
	["main", validateMain],
	["man", validateMan],
	["module", validateMain],
	["optionalDependencies", validateDependencies],
	["os", validateOs],
	["peerDependencies", validateDependencies],
	["private", validatePrivate],
	["publishConfig", validatePublishConfig],
	["repository", validateRepository],
	["scripts", validateScripts],
	["sideEffects", validateSideEffects],
	["type", validateType],
	["workspaces", validateWorkspaces]
];
/** All basic valid- flavor rules */
const rules = Object.fromEntries(properties.map(([propertyName, validationFunctionOrOptions]) => {
	let validationFunction;
	let aliases = [];
	if (typeof validationFunctionOrOptions === "object") {
		validationFunction = validationFunctionOrOptions.validator;
		aliases = validationFunctionOrOptions.aliases;
	} else validationFunction = validationFunctionOrOptions;
	const { rule, ruleName } = createSimpleValidPropertyRule(propertyName, validationFunction, aliases);
	return [ruleName, rule];
}));

//#endregion
export { rules };