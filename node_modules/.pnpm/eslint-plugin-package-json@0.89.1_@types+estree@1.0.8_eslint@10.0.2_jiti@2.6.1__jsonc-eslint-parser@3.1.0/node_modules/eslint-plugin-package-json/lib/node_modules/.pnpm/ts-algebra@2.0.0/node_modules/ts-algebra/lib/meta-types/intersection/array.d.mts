import { Never, NeverType } from "../never.mjs";
import { ConstType } from "../const.mjs";
import { EnumType } from "../enum.mjs";
import { ObjectType } from "../object.mjs";
import { PrimitiveType } from "../primitive.mjs";
import { TupleType } from "../tuple.mjs";
import { UnionType } from "../union.mjs";
import { SerializableType, Type } from "../type.mjs";
import { ArrayType, ArrayValues, _$Array } from "../array.mjs";
import { AnyType } from "../any.mjs";
import { DistributeIntersection } from "./union.mjs";
import { IntersectDeserialized, IntersectIsSerialized } from "./utils.mjs";
import { IntersectConstToArray } from "./const.mjs";
import { IntersectEnumToArray } from "./enum.mjs";
import { IntersectTupleToArray } from "./tuple.mjs";
import { Intersect } from "./index.mjs";

//#region node_modules/.pnpm/ts-algebra@2.0.0/node_modules/ts-algebra/lib/meta-types/intersection/array.d.ts
declare type IntersectArraySerializationParams<VALUES extends Type, META_ARRAY extends ArrayType, SERIALIZABLE_META_TYPE extends SerializableType> = $MergeArrayValuesToSerializable<VALUES, META_ARRAY, SERIALIZABLE_META_TYPE>;
declare type $MergeArrayValuesToSerializable<VALUES, META_ARRAY extends ArrayType, SERIALIZABLE_META_TYPE extends SerializableType> = _$Array<VALUES, IntersectIsSerialized<META_ARRAY, SERIALIZABLE_META_TYPE>, IntersectDeserialized<META_ARRAY, SERIALIZABLE_META_TYPE>>;
declare type IntersectArray<META_ARRAY extends ArrayType, META_TYPE> = META_TYPE extends Type ? META_TYPE extends NeverType ? META_TYPE : META_TYPE extends AnyType ? IntersectArraySerializationParams<ArrayValues<META_ARRAY>, META_ARRAY, META_TYPE> : META_TYPE extends ConstType ? IntersectConstToArray<META_TYPE, META_ARRAY> : META_TYPE extends EnumType ? IntersectEnumToArray<META_TYPE, META_ARRAY> : META_TYPE extends PrimitiveType ? Never : META_TYPE extends ArrayType ? IntersectArrays<META_ARRAY, META_TYPE> : META_TYPE extends TupleType ? IntersectTupleToArray<META_TYPE, META_ARRAY> : META_TYPE extends ObjectType ? Never : META_TYPE extends UnionType ? DistributeIntersection<META_TYPE, META_ARRAY> : Never : Never;
declare type IntersectArrays<META_ARRAY_A extends ArrayType, META_ARRAY_B extends ArrayType> = $MergeArrayValuesToSerializable<Intersect<ArrayValues<META_ARRAY_A>, ArrayValues<META_ARRAY_B>>, META_ARRAY_A, META_ARRAY_B>;
//#endregion
export { IntersectArray, IntersectArraySerializationParams };