import { DoesExtend } from "../utils/extends.mjs";
import { If } from "../utils/if.mjs";
import { IsNever } from "../utils/isNever.mjs";
import { Never, NeverType } from "./never.mjs";
import { Type } from "./type.mjs";
import { $Resolve, ResolveOptions } from "./resolve.mjs";

//#region node_modules/.pnpm/ts-algebra@2.0.0/node_modules/ts-algebra/lib/meta-types/union.d.ts
declare type UnionTypeId = "union";
declare type Union<VALUES extends Type> = $Union<VALUES>;
declare type $Union<VALUES> = If<IsNever<VALUES>, Never, DoesExtend<VALUES, NeverType> extends true ? Never : {
  type: UnionTypeId;
  values: VALUES;
}>;
declare type UnionType = {
  type: UnionTypeId;
  values: Type;
};
declare type UnionValues<META_UNION extends UnionType> = META_UNION["values"];
declare type ResolveUnion<META_UNION extends UnionType, OPTIONS extends ResolveOptions> = RecurseOnUnion<UnionValues<META_UNION>, OPTIONS>;
declare type RecurseOnUnion<VALUES extends Type, OPTIONS extends ResolveOptions> = VALUES extends infer META_TYPE ? $Resolve<META_TYPE, OPTIONS> : never;
//#endregion
export { $Union, ResolveUnion, Union, UnionType, UnionValues };