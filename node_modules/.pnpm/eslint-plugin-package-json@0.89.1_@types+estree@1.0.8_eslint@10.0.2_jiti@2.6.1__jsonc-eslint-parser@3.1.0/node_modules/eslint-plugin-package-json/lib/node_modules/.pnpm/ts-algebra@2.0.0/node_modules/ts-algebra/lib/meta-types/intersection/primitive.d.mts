import { And } from "../../utils/and.mjs";
import { DoesExtend } from "../../utils/extends.mjs";
import { If } from "../../utils/if.mjs";
import { Never, NeverType } from "../never.mjs";
import { ConstType } from "../const.mjs";
import { EnumType } from "../enum.mjs";
import { ObjectType } from "../object.mjs";
import { Primitive, PrimitiveType, PrimitiveValue } from "../primitive.mjs";
import { TupleType } from "../tuple.mjs";
import { UnionType } from "../union.mjs";
import { SerializableType, Type } from "../type.mjs";
import { ArrayType } from "../array.mjs";
import { AnyType } from "../any.mjs";
import { DistributeIntersection } from "./union.mjs";
import { IntersectDeserialized, IntersectIsSerialized } from "./utils.mjs";
import { IntersectConstToPrimitive } from "./const.mjs";
import { IntersectEnumToPrimitive } from "./enum.mjs";

//#region node_modules/.pnpm/ts-algebra@2.0.0/node_modules/ts-algebra/lib/meta-types/intersection/primitive.d.ts
declare type IntersectPrimitiveSerializationParams<META_PRIMITIVE extends PrimitiveType, SERIALIZABLE_META_TYPE extends SerializableType> = Primitive<PrimitiveValue<META_PRIMITIVE>, IntersectIsSerialized<META_PRIMITIVE, SERIALIZABLE_META_TYPE>, IntersectDeserialized<META_PRIMITIVE, SERIALIZABLE_META_TYPE>>;
declare type IntersectPrimitive<META_PRIMITIVE extends PrimitiveType, META_TYPE> = META_TYPE extends Type ? META_TYPE extends NeverType ? META_TYPE : META_TYPE extends AnyType ? IntersectPrimitiveSerializationParams<META_PRIMITIVE, META_TYPE> : META_TYPE extends ConstType ? IntersectConstToPrimitive<META_TYPE, META_PRIMITIVE> : META_TYPE extends EnumType ? IntersectEnumToPrimitive<META_TYPE, META_PRIMITIVE> : META_TYPE extends PrimitiveType ? If<And<DoesExtend<PrimitiveValue<META_PRIMITIVE>, PrimitiveValue<META_TYPE>>, DoesExtend<PrimitiveValue<META_TYPE>, PrimitiveValue<META_PRIMITIVE>>>, IntersectPrimitiveSerializationParams<META_PRIMITIVE, META_TYPE>, Never> : META_TYPE extends ArrayType ? Never : META_TYPE extends TupleType ? Never : META_TYPE extends ObjectType ? Never : META_TYPE extends UnionType ? DistributeIntersection<META_TYPE, META_PRIMITIVE> : Never : Never;
//#endregion
export { IntersectPrimitive, IntersectPrimitiveSerializationParams };